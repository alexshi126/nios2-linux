/*****************************************************************************
Developed by Analog Devices Australia - Unit 3, 97 Lewis Road,
Wantirna, Victoria, Australia, 3152.  Email: ada.info@analog.com

Analog Devices, Inc.
BSD-Style License

libgdots
Copyright (c) 2007 Analog Devices, Inc.

All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions
are met:
  - Redistributions of source code must retain the above copyright
    notice, this list of conditions and the following disclaimer.
  - Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in
    the documentation and/or other materials provided with the
    distribution.
  - Neither the name of Analog Devices, Inc. nor the names of its
    contributors may be used to endorse or promote products derived
    from this software without specific prior written permission.
  - The use of this software may or may not infringe the patent rights
    of one or more patent holders.  This license does not release you
    from the requirement that you obtain separate licenses from these
    patent holders to use this software.

THIS SOFTWARE IS PROVIDED BY ANALOG DEVICES "AS IS" AND ANY EXPRESS OR
IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, NON-INFRINGEMENT,
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
IN NO EVENT SHALL ANALOG DEVICES BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
BUT NOT LIMITED TO, INTELLECTUAL PROPERTY RIGHTS, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
ADVISED OF THE POSSIBILITY OF SUCH DAMAGE
******************************************************************************
$RCSfile: Tab_ld8ae.asm,v $
$Revision: 1.5 $
$Date: 2006/05/24 07:46:55 $

Project:		G.729AB for Blackfin
Title:			Tab_ld8ae
Author(s):		wuxiangzhi,
Revised by:		E. HSU

Description     :      G729A tables for encoder only 

Prototype       :      	
						
******************************************************************************
Tab Setting:			4
Target Processor:		ADSP-21535
Target Tools Revision:	2.2.2.0
******************************************************************************

Modification History:
====================
$Log: Tab_ld8ae.asm,v $
Revision 1.5  2006/05/24 07:46:55  adamliyi
Fixed the failing case for g729ab decoder for tstseq6. The issue is the uClinux GAS bug: it cannot treat the (m) option correctly.

Revision 1.4  2004/01/27 23:41:56Z  ehsu
Revision 1.3  2004/01/23 00:41:00Z  ehsu
Revision 1.2  2004/01/13 01:34:56Z  ehsu
Revision 1.1  2003/12/01 00:13:29Z  ehsu
Initial revision

Version         Date            Authors        		  Comments
0.0         11/01/2002          wuxiangzhi            Original

*******************************************************************************/ 



    .global hamwindow,lag;
    .global grid;
	.global table,slope;
	//.global fg_sum_1,fg_sum,fg_sum_inv_1,fg_sum_inv;
	//.global fg_0,fg_1;
	//.global table2,slope_acos,slope_cos;
	//.global lspcb1,lspcb2,inter_3l;
	//.global tab_zone;
	//.global pred,tabpow;
	
#if defined(__GNUC__)
//.epcdata:
.data;
  .align 4;
  hamwindow: 
  .short 2621,  2623,  2629,  2638,  2651,  2668,  2689,  2713,  2741,  2772,\
  2808,  2847,  2890,  2936,  2986,  3040,  3097,  3158,  3223,  3291,\
  3363,  3438,  3517,  3599,  3685,  3774,  3867,  3963,  4063,  4166,\
  4272,  4382,  4495,  4611,  4731,  4853,  4979,  5108,  5240,  5376,\
  5514,  5655,  5800,  5947,  6097,  6250,  6406,  6565,  6726,  6890,\
  7057,  7227,  7399,  7573,  7750,  7930,  8112,  8296,  8483,  8672,\
  8863,  9057,  9252,  9450,  9650,  9852, 10055, 10261, 10468, 10677,\
 10888, 11101, 11315, 11531, 11748, 11967, 12187, 12409, 12632, 12856,\
 13082, 13308, 13536, 13764, 13994, 14225, 14456, 14688, 14921, 15155,\
 15389, 15624, 15859, 16095, 16331, 16568, 16805, 17042, 17279, 17516,\
 17754, 17991, 18228, 18465, 18702, 18939, 19175, 19411, 19647, 19882,\
 20117, 20350, 20584, 20816, 21048, 21279, 21509, 21738, 21967, 22194,\
 22420, 22644, 22868, 23090, 23311, 23531, 23749, 23965, 24181, 24394,\
 24606, 24816, 25024, 25231, 25435, 25638, 25839, 26037, 26234, 26428,\
 26621, 26811, 26999, 27184, 27368, 27548, 27727, 27903, 28076, 28247,\
 28415, 28581, 28743, 28903, 29061, 29215, 29367, 29515, 29661, 29804,\
 29944, 30081, 30214, 30345, 30472, 30597, 30718, 30836, 30950, 31062,\
 31170, 31274, 31376, 31474, 31568, 31659, 31747, 31831, 31911, 31988,\
 32062, 32132, 32198, 32261, 32320, 32376, 32428, 32476, 32521, 32561,\
 32599, 32632, 32662, 32688, 32711, 32729, 32744, 32755, 32763, 32767,\
 32767, 32741, 32665, 32537, 32359, 32129, 31850, 31521, 31143, 30716,\
 30242, 29720, 29151, 28538, 27879, 27177, 26433, 25647, 24821, 23957,\
 23055, 22117, 21145, 20139, 19102, 18036, 16941, 15820, 14674, 13505,\
 12315, 11106,  9879,  8637,  7381,  6114,  4838,  3554,  2264,   971;
.data;
 lag:
 .long 0x7fd82e80,0x7f6b4380,0x7eb67800,0x7dbb6500,0x7c7b5e80,\
                  0x7af87140,0x79355f40,0x77351cc0,0x74fa4c40,0x728939c0,\
				  0x6fe5564c,0x6d13327c;

.data;
 grid:
 .short 32760,     32703,     32509,     32187,     31738,     31164,\
     30466,     29649,     28714,     27666,     26509,     25248,\
     23886,     22431,     20887,     19260,     17557,     15786,\
     13951,     12062,     10125,      8149,      6140,      4106,\
      2057,         0,     -2057,     -4106,     -6140,     -8149,\
    -10125,    -12062,    -13951,    -15786,    -17557,    -19260,\
    -20887,    -22431,    -23886,    -25248,    -26509,    -27666,\
    -28714,    -29649,    -30466,    -31164,    -31738,    -32187,\
    -32509,    -32703,    -32760,     0;

table:
  .short 32767,  32729,  32610,  32413,  32138,  31786,  31357,  30853,\
     30274,  29622,  28899,  28106,  27246,  26320,  25330,  24279,\
     23170,  22006,  20788,  19520,  18205,  16846,  15447,  14010,\
     12540,  11039,   9512,   7962,   6393,   4808,   3212,   1608,\
     0,  -1608,  -3212,  -4808,  -6393,  -7962,  -9512, -11039,\
    -12540, -14010, -15447, -16846, -18205, -19520, -20788, -22006,\
    -23170, -24279, -25330, -26320, -27246, -28106, -28899, -29622,\
    -30274, -30853, -31357, -31786, -32138, -32413, -32610, -32729,\
    -32768 ,0;

/* slope in Q12 used to compute y = acos(x) */
slope:
 .short -26887,  -8812,  -5323,  -3813,  -2979,  -2444,  -2081,  -1811,\
  -1608,  -1450,  -1322,  -1219,  -1132,  -1059,   -998,   -946,\
   -901,   -861,   -827,   -797,   -772,   -750,   -730,   -713,\
   -699,   -687,   -677,   -668,   -662,   -657,   -654,   -652,\
   -652,   -654,   -657,   -662,   -668,   -677,   -687,   -699,\
   -713,   -730,   -750,   -772,   -797,   -827,   -861,   -901,\
   -946,   -998,  -1059,  -1132,  -1219,  -1322,  -1450,  -1608,\
  -1811,  -2081,  -2444,  -2979,  -3813,  -5323,  -8812, -26887;

.data;
.global slope_acos;
slope_acos:
 .short -26887,  -8812,  -5323,  -3813,  -2979,  -2444,  -2081,  -1811,\
  -1608,  -1450,  -1322,  -1219,  -1132,  -1059,   -998,   -946,\
   -901,   -861,   -827,   -797,   -772,   -750,   -730,   -713,\
   -699,   -687,   -677,   -668,   -662,   -657,   -654,   -652,\
   -652,   -654,   -657,   -662,   -668,   -677,   -687,   -699,\
   -713,   -730,   -750,   -772,   -797,   -827,   -861,   -901,\
   -946,   -998,  -1059,  -1132,  -1219,  -1322,  -1450,  -1608,\
  -1811,  -2081,  -2444,  -2979,  -3813,  -5323,  -8812, -26887;
/* lsp    code book   <../f7s55m1.v2> */

.global thr1;
thr1:
.short 10808 ,12374 ,19778 ,32567;

.global thr2;
thr2:
.short 14087,16188, 20274 ,21321,23525, 25232,27873,30542;

.data;
.global map1;
map1:
.short 5, 1, 4, 7, 3, 0, 6, 2;

.global map2;
map2:
.short 4, 6, 0, 2,12,14, 8,10,15,11, 9,13, 7, 3, 1, 5;

#else
//.epcdata:
.data;
  .align 4;
  .byte2 hamwindow[240] = 
  2621,  2623,  2629,  2638,  2651,  2668,  2689,  2713,  2741,  2772,
  2808,  2847,  2890,  2936,  2986,  3040,  3097,  3158,  3223,  3291,
  3363,  3438,  3517,  3599,  3685,  3774,  3867,  3963,  4063,  4166,
  4272,  4382,  4495,  4611,  4731,  4853,  4979,  5108,  5240,  5376,
  5514,  5655,  5800,  5947,  6097,  6250,  6406,  6565,  6726,  6890,
  7057,  7227,  7399,  7573,  7750,  7930,  8112,  8296,  8483,  8672,
  8863,  9057,  9252,  9450,  9650,  9852, 10055, 10261, 10468, 10677,
 10888, 11101, 11315, 11531, 11748, 11967, 12187, 12409, 12632, 12856,
 13082, 13308, 13536, 13764, 13994, 14225, 14456, 14688, 14921, 15155,
 15389, 15624, 15859, 16095, 16331, 16568, 16805, 17042, 17279, 17516,
 17754, 17991, 18228, 18465, 18702, 18939, 19175, 19411, 19647, 19882,
 20117, 20350, 20584, 20816, 21048, 21279, 21509, 21738, 21967, 22194,
 22420, 22644, 22868, 23090, 23311, 23531, 23749, 23965, 24181, 24394,
 24606, 24816, 25024, 25231, 25435, 25638, 25839, 26037, 26234, 26428,
 26621, 26811, 26999, 27184, 27368, 27548, 27727, 27903, 28076, 28247,
 28415, 28581, 28743, 28903, 29061, 29215, 29367, 29515, 29661, 29804,
 29944, 30081, 30214, 30345, 30472, 30597, 30718, 30836, 30950, 31062,
 31170, 31274, 31376, 31474, 31568, 31659, 31747, 31831, 31911, 31988,
 32062, 32132, 32198, 32261, 32320, 32376, 32428, 32476, 32521, 32561,
 32599, 32632, 32662, 32688, 32711, 32729, 32744, 32755, 32763, 32767,
 32767, 32741, 32665, 32537, 32359, 32129, 31850, 31521, 31143, 30716,
 30242, 29720, 29151, 28538, 27879, 27177, 26433, 25647, 24821, 23957,
 23055, 22117, 21145, 20139, 19102, 18036, 16941, 15820, 14674, 13505,
 12315, 11106,  9879,  8637,  7381,  6114,  4838,  3554,  2264,   971;
.data;
 .byte4 lag[12] = 0x7fd82e80,0x7f6b4380,0x7eb67800,0x7dbb6500,0x7c7b5e80,
                  0x7af87140,0x79355f40,0x77351cc0,0x74fa4c40,0x728939c0,
				  0x6fe5564c,0x6d13327c;

.data;
 .byte2 grid[52] =
     32760,     32703,     32509,     32187,     31738,     31164,
     30466,     29649,     28714,     27666,     26509,     25248,
     23886,     22431,     20887,     19260,     17557,     15786,
     13951,     12062,     10125,      8149,      6140,      4106,
      2057,         0,     -2057,     -4106,     -6140,     -8149,
    -10125,    -12062,    -13951,    -15786,    -17557,    -19260,
    -20887,    -22431,    -23886,    -25248,    -26509,    -27666,
    -28714,    -29649,    -30466,    -31164,    -31738,    -32187,
    -32509,    -32703,    -32760,     0;

 .byte2 table[66] = 
  32767,  32729,  32610,  32413,  32138,  31786,  31357,  30853,
  30274,  29622,  28899,  28106,  27246,  26320,  25330,  24279,
  23170,  22006,  20788,  19520,  18205,  16846,  15447,  14010,
  12540,  11039,   9512,   7962,   6393,   4808,   3212,   1608,
      0,  -1608,  -3212,  -4808,  -6393,  -7962,  -9512, -11039,
 -12540, -14010, -15447, -16846, -18205, -19520, -20788, -22006,
 -23170, -24279, -25330, -26320, -27246, -28106, -28899, -29622,
 -30274, -30853, -31357, -31786, -32138, -32413, -32610, -32729,
 -32768 ,0;

/* slope in Q12 used to compute y = acos(x) */

 .byte2 slope[64] = 
 -26887,  -8812,  -5323,  -3813,  -2979,  -2444,  -2081,  -1811,
  -1608,  -1450,  -1322,  -1219,  -1132,  -1059,   -998,   -946,
   -901,   -861,   -827,   -797,   -772,   -750,   -730,   -713,
   -699,   -687,   -677,   -668,   -662,   -657,   -654,   -652,
   -652,   -654,   -657,   -662,   -668,   -677,   -687,   -699,
   -713,   -730,   -750,   -772,   -797,   -827,   -861,   -901,
   -946,   -998,  -1059,  -1132,  -1219,  -1322,  -1450,  -1608,
  -1811,  -2081,  -2444,  -2979,  -3813,  -5323,  -8812, -26887;

.data;
.global slope_acos;
 .byte2 slope_acos[64] = 
 -26887,  -8812,  -5323,  -3813,  -2979,  -2444,  -2081,  -1811,
  -1608,  -1450,  -1322,  -1219,  -1132,  -1059,   -998,   -946,
   -901,   -861,   -827,   -797,   -772,   -750,   -730,   -713,
   -699,   -687,   -677,   -668,   -662,   -657,   -654,   -652,
   -652,   -654,   -657,   -662,   -668,   -677,   -687,   -699,
   -713,   -730,   -750,   -772,   -797,   -827,   -861,   -901,
   -946,   -998,  -1059,  -1132,  -1219,  -1322,  -1450,  -1608,
  -1811,  -2081,  -2444,  -2979,  -3813,  -5323,  -8812, -26887;
/* lsp    code book   <../f7s55m1.v2> */

.global thr1;
.byte2  thr1[4] =10808 ,12374 ,19778 ,32567;

.global thr2;
.byte2  thr2[8] =14087,16188, 20274 ,21321,23525, 25232,27873,30542;

.data;
.global map1;
.byte2  map1[8] = 5, 1, 4, 7, 3, 0, 6, 2;

.global map2;
.byte2 map2[16] = 4, 6, 0, 2,12,14, 8,10,15,11, 9,13, 7, 3, 1, 5;
#endif
